.name: Create Monthly Newsletter Issue

on:
  schedule:              # Scheduled trigger
    - cron: "0 9 1 * *"  # At 09:00 UTC on the 1st of each month
  workflow_dispatch:      # Optional manual trigger

jobs:
  create_issue:         # Create a new issue
    runs-on: ubuntu-latest  # Use the latest Ubuntu runner
    permissions:  # Set permissions for the job
      issues: write  # Needed to create issues with the default GITHUB_TOKEN

    steps:
      - name: Create Monthly Issue
        run: |
          gh issue create \
            --repo ${{ github.repository }} \
            --title "📅 Monthly TODO— $(date +'%B %Y')" \
            --body "This is your automatic monthly issue! 🛠️

          Things to review this month:
          - [ ] Task 1
          - [ ] Task 2
          - [ ] Task 3

          _This issue was automatically generated by GitHub Actions._" \
           
        env:
          GH_TOKEN: ${{ secrets.GITHUB_TOKEN }}
